<Window
  x:Class="MalwarePatch.Windows.Check.CheckWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:local="clr-namespace:MalwarePatch"
  mc:Ignorable="d"
  ResizeMode="CanMinimize"
  WindowStartupLocation="CenterScreen"
  Title="Malware Check"
  Background="{DynamicResource TitleBarBackground}"
  Foreground="{DynamicResource Foreground}"
  Height="180"
  Width="480">
  <WindowChrome.WindowChrome>
    <WindowChrome
      ResizeBorderThickness="0"
      CaptionHeight="0"
      GlassFrameThickness="1,0,0,0" />
  </WindowChrome.WindowChrome>
  <Window.TaskbarItemInfo>
    <TaskbarItemInfo
      x:Name="taskbar"
      ProgressState="{Binding ProgressState}"
      ProgressValue="{Binding ProgressValue}" />
  </Window.TaskbarItemInfo>
  <Window.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary
          Source="../Styles/ToolButton.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </Window.Resources>
  <Border
    BorderThickness="1"
    BorderBrush="{DynamicResource DwmColor}">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="0"/>
        <RowDefinition />
        <RowDefinition />
      </Grid.RowDefinitions>

      <TextBlock
        Grid.Row="0"
        FontSize="16"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        Text="{Binding Message}" />
      <ProgressBar
        Grid.Row="1"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Center"
        Margin="48, 0"
        Height="4"
        Background="{DynamicResource ProgressBackground}"
        Foreground="{DynamicResource ProgressForeground}"
        BorderThickness="0"
        Minimum="0"
        Maximum="1"
        Value="{Binding ProgressValue}"
        SnapsToDevicePixels="True" />
      <Button
        Grid.Row="2"
        VerticalAlignment="Center"
        HorizontalAlignment="Center"
        Width="180"
        Height="40"
        FontSize="14"
        Foreground="{DynamicResource Foreground}"
        Style="{StaticResource ToolButton}"
        Content="Stop"
        x:Name="buttonStop" />
    </Grid>
  </Border>
</Window>

<Window
  x:Name="window"
  x:Class="MalwarePatch.Windows.Dialog.DialogWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:local="clr-namespace:MalwarePatch"
  mc:Ignorable="d"
  SizeToContent="Height"
  Title="{Binding Title}"
  ResizeMode="CanMinimize"
  WindowStartupLocation="CenterScreen"
  Foreground="{DynamicResource Foreground}"
  Background="{DynamicResource TitleBarBackground}"
  FontSize="16"
  MinHeight="80"
  Height="160"
  MinWidth="258"
  Width="358">
  <WindowChrome.WindowChrome>
    <WindowChrome
      ResizeBorderThickness="0"
      CaptionHeight="0"
      GlassFrameThickness="1,0,0,0" />
  </WindowChrome.WindowChrome>
  <Window.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary
          Source="../Styles/ToolButton.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </Window.Resources>
  <Border
    BorderThickness="1"
    BorderBrush="{DynamicResource DwmColor}"
    x:Name="border">
    <Grid
      Margin="12,8">
      <Grid.RowDefinitions>
        <RowDefinition
          Height="40" />
        <RowDefinition />
        <RowDefinition
          Height="10"/>
        <RowDefinition
          Height="40" />
      </Grid.RowDefinitions>
      <TextBlock
        Text="{Binding Title}"
        Foreground="{DynamicResource TitleBarForeground}"
        FontWeight="Bold"
        VerticalAlignment="Center"
        HorizontalAlignment="Left"
        Margin="4,0" />
      <TextBlock
        FontSize="14"
        Grid.Row="1"
        TextWrapping="Wrap"
        Text="{Binding Message}"
        Margin="4"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch" />
      <Button
        x:Name="buttonOK"
        Style="{StaticResource ToolButton}"
        Background="Transparent"
        MaxWidth="200"
        Grid.Row="3"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        Margin="0">
        <Path
          Stroke="{Binding Foreground, ElementName=window}"
          StrokeThickness="2"
          Width="24"
          Height="12"
          Stretch="Uniform"
          Data="M -4,0 L 0,4 L 8,-4">
        </Path>
      </Button>
    </Grid>
  </Border>
</Window>

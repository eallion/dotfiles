<ResourceDictionary
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Color
    x:Key="CertificateSwitch.Unchecked">
    #88607D8B
  </Color>
  <Color
    x:Key="CertificateSwitch.Checked">
    #AF26A69A
  </Color>
  <Style
    x:Key="CertificateSwitch"
    TargetType="ToggleButton">
    <Setter
      Property="Background"
      Value="Transparent" />
    <Setter
      Property="BorderBrush"
      Value="Transparent" />
    <Setter
      Property="BorderThickness"
      Value="0" />
    <Setter
      Property="MaxWidth"
      Value="130" />
    <Setter
      Property="FocusVisualStyle">
      <Setter.Value>
        <Style>
          <Setter
            Property="Control.Template">
            <Setter.Value>
              <ControlTemplate>
                <Border
                  Background="#2000" />
              </ControlTemplate>
            </Setter.Value>
          </Setter>
        </Style>
      </Setter.Value>
    </Setter>
    <Setter
      Property="Template">
      <Setter.Value>
        <ControlTemplate
          TargetType="ToggleButton">
          <Grid
            x:Name="rootGrid">
            <!--<Grid.Effect>
              <DropShadowEffect
                ShadowDepth="0"
                BlurRadius="15"
                Opacity="0.2" />
            </Grid.Effect>-->
            <Grid.Background>
              <SolidColorBrush
                Color="{StaticResource CertificateSwitch.Unchecked}" />
            </Grid.Background>
            <Grid.ColumnDefinitions>
              <ColumnDefinition
                Width="*" />
              <ColumnDefinition
                Width="30" />
            </Grid.ColumnDefinitions>
            <ContentPresenter
              HorizontalAlignment="Center"
              VerticalAlignment="Center"
              Grid.Column="0" />
            <Grid
              Grid.Column="1"
              Background="#2000">
              <Grid.Resources>
                <Style
                  TargetType="Path">
                  <Setter
                    Property="Stroke"
                    Value="White" />
                  <Setter
                    Property="StrokeThickness"
                    Value="2" />
                  <Setter
                    Property="Stretch"
                    Value="Uniform" />
                  <Setter
                    Property="HorizontalAlignment"
                    Value="Center" />
                  <Setter
                    Property="VerticalAlignment"
                    Value="Center" />
                  <Setter
                    Property="Width"
                    Value="18" />
                  <Setter
                    Property="Height"
                    Value="18" />
                </Style>
              </Grid.Resources>
              <Path
                Width="16"
                Height="16"
                Opacity="1"
                x:Name="no"
                Data="M -5,-5 L 5,5 M -5,5 L 5,-5" />
              <Path
                Opacity="0"
                x:Name="yes"
                Data="M -5,0 L 0,5 L 10,-5" />
            </Grid>
            <Border
              x:Name="mask"
              Grid.ColumnSpan="2"
              Background="Transparent" />
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger
              Property="IsMouseOver"
              Value="True">
              <Trigger.EnterActions>
                <BeginStoryboard>
                  <Storyboard>
                    <ColorAnimation
                      Storyboard.TargetName="mask"
                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                      Duration="0:0:0.2"
                      To="#1000">
                      <ColorAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </ColorAnimation.EasingFunction>
                    </ColorAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.EnterActions>
              <Trigger.ExitActions>
                <BeginStoryboard>
                  <Storyboard>
                    <ColorAnimation
                      Storyboard.TargetName="mask"
                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                      Duration="0:0:0.2"
                      To="#0000">
                      <ColorAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseIn" />
                      </ColorAnimation.EasingFunction>
                    </ColorAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.ExitActions>
              <!--<Setter
                Property="Background"
                TargetName="mask"
                Value="#1000" />-->
            </Trigger>
            <Trigger
              Property="IsPressed"
              Value="True">
              <Trigger.EnterActions>
                <BeginStoryboard>
                  <Storyboard>
                    <ColorAnimation
                      Storyboard.TargetName="mask"
                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                      Duration="0:0:0.2"
                      To="#2000">
                      <ColorAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </ColorAnimation.EasingFunction>
                    </ColorAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.EnterActions>
              <Trigger.ExitActions>
                <BeginStoryboard>
                  <Storyboard
                    FillBehavior="Stop">
                    <ColorAnimation
                      Storyboard.TargetName="mask"
                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                      Duration="0:0:0.2"
                      To="#1000">
                      <ColorAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseIn" />
                      </ColorAnimation.EasingFunction>
                    </ColorAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.ExitActions>
              <!--<Setter
                Property="Background"
                TargetName="mask"
                Value="#2000" />-->
            </Trigger>
            <Trigger
              Property="IsChecked"
              Value="True">
              <!--<Setter
                Property="Background"
                TargetName="rootGrid"
                Value="{StaticResource CertificateSwitch.Checked}" />
              <Setter
                Property="Data"
                TargetName="path"
                Value="M -5,0 L 0,5 L 10,-5" />-->
              <Trigger.EnterActions>
                <BeginStoryboard>
                  <Storyboard>
                    <ColorAnimation
                      To="{StaticResource CertificateSwitch.Checked}"
                      Duration="0:0:0.2"
                      Storyboard.TargetName="rootGrid"
                      Storyboard.TargetProperty="(Grid.Background).(SolidColorBrush.Color)">
                      <ColorAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </ColorAnimation.EasingFunction>
                    </ColorAnimation>
                    <DoubleAnimation
                      To="1"
                      Duration="0:0:0.2"
                      Storyboard.TargetName="yes"
                      Storyboard.TargetProperty="Opacity">
                      <DoubleAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                    <DoubleAnimation
                      To="0"
                      Duration="0:0:0.2"
                      Storyboard.TargetName="no"
                      Storyboard.TargetProperty="Opacity">
                      <DoubleAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.EnterActions>
              <Trigger.ExitActions>
                <BeginStoryboard>
                  <Storyboard>
                    <ColorAnimation
                      To="{StaticResource CertificateSwitch.Unchecked}"
                      Duration="0:0:0.2"
                      Storyboard.TargetName="rootGrid"
                      Storyboard.TargetProperty="(Grid.Background).(SolidColorBrush.Color)">
                      <ColorAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </ColorAnimation.EasingFunction>
                    </ColorAnimation>
                    <DoubleAnimation
                      To="0"
                      Duration="0:0:0.2"
                      Storyboard.TargetName="yes"
                      Storyboard.TargetProperty="Opacity">
                      <DoubleAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                    <DoubleAnimation
                      To="1"
                      Duration="0:0:0.2"
                      Storyboard.TargetName="no"
                      Storyboard.TargetProperty="Opacity">
                      <DoubleAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.ExitActions>
            </Trigger>
            <Trigger
              Property="IsEnabled"
              Value="False">
              <Trigger.EnterActions>
                <BeginStoryboard>
                  <Storyboard>
                    <DoubleAnimation
                      To="0.5"
                      Duration="0:0:0.2"
                      Storyboard.TargetProperty="Opacity">
                      <DoubleAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseOut" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.EnterActions>
              <Trigger.ExitActions>
                <BeginStoryboard>
                  <Storyboard>
                    <DoubleAnimation
                      To="1"
                      Duration="0:0:0.2"
                      Storyboard.TargetProperty="Opacity">
                      <DoubleAnimation.EasingFunction>
                        <CircleEase
                          EasingMode="EaseIn" />
                      </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                  </Storyboard>
                </BeginStoryboard>
              </Trigger.ExitActions>
              <!--<Setter
                Property="Opacity"
                Value="0.8" />-->
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <DataTemplate
    x:Key="CertificateTemplate">
    <ToggleButton
      Width="160"
      Height="30"
      Margin="11, 10"
      Foreground="White"
      Style="{StaticResource CertificateSwitch}"
      IsChecked="{Binding IsAllowed}"
      Content="{Binding Name}" />
  </DataTemplate>
</ResourceDictionary>